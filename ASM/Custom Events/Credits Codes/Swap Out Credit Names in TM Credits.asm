#To be inserted at 801aadb4
.include "../../Globals.s"

b	FunctionStart

Names:
blrl
.string "Charlotte"
.string "Hugh N"
.string "HARB"
.string "Cyrus R"
.string "ravecake"
.string "Jeremy"
.string "Dominick T"
.string "Robert P"
.string "Jonathan B"
.string "Daniel F"
.string "Marshall Z"
.string "Thomas B"
.string "Rishi"
.string "KELLZ"
.string "Turkey"
.string "Outside"
.string "Jesse"
.string "BenSW"
.string "Setchi "
.string "Jimmy M"
.string "Micah S"
.string "Avi"
.string "YungZunga"
.string "Randle J"
.string "Andreas H"
.string "Calszone"
.string "Riley D"
.string "Anthony C"
.string "Kevin T"
.string "Zane R"
.string "Gage K"
.string "Ari"
.string "Vitral"
.string "CF True"
.string "yardsale"
.string "James L"
.string "Zach N"
.string "Sir Lemon"
.string "Matt B"
.string "Max S"
.string "RealDingos "
.string "Wasif R"
.string "femboy uwu"
.string "Spencer G"
.string "Ben A"
.string "William R"
.string "KJH"
.string "Reeve"
.string "Christian A"
.string "Esteban H"
.string "Forrest G"
.string "Aiden C"
.string "Grolex"
.string "Manuel P"
.string "Methorphan"
.string "bofftarget"
.string "Mark M"
.string "Reece E"
.string "Ka Ming AC"
.string "BONSAI BOYS"
.string "Jean T"
.string "Jon"
.string "Stuart K"
.string "Mike R"
.string "James"
.string "Miller T"
.string "Darren M"
.string "ShaggyJ"
.string "Bryan K"
.string "Collin B"
.string "Lucas S"
.string "jeremiah K"
.string "Will A"
.string "Eacab"
.string "Maccrea P"
.string "Justin H"
.string "Zach J"
.string "Brandt W"
.string "Gene K"
.string "Jaycob A"
.string "Joseph R"
.string "blandeezy"
.string "Vim"
.string "roob adoob"
.string "Sami B"
.string "Blake P"
.string "Charlon"
.string "Aldrin R"
.string "Jane L"
.string "Martin R"
.string "Stephane S"
.string "Greg W"
.string "Delano W"
.string "Kyle S"
.string "K OBrien"
.string "Albert Z"
.string "Lykon"
.string "Benjamin E"
.string "Dave S"
.string "Jordan J"
.string "Gear"
.string "Fritz"
.string "Jeff J"
.string "Dalton G"
.string "Trevor C"
.string "Chad S"
.string "Brit B"
.string "Austin D"
.string "Micah W"
.string "Jonathon M"
.string "Jason V"
.string "Marvin S"
.string "Glenn T"
.string "Jordan M"
.string "Bj C"
.string "Lucio"
.string "Benno K"
.string "Bernando B"
.string "Kaveh A"
.string "Thomas R"
.string "Austin L"
.string "Brennan R"
.string "Anthony G"
.string "Ryan M"
.string "Tony K"
.string "Shane K"
.string "Andrew W"
.string "Vincent T"
.string "Ali S"
.string "Nathan H"
.string "Maxime C"
.string "Riley B"
.string "cagliostro9"
.string "Jonathan M"
.string "Rafa M"
.string "Lucuius M"
.string "Julie M"
.string "Sergio D"
.string "Andre MLO"
.string "Juan D"
.string "Andrew Y"
.string "Fabadam"
.string "Tony R"
.string "Daniel C"
.string "Derex E"
.string "Chris C"
.string "Samuel CD"
.string "Melee Stats"
.string "George G"
.string "Joey A"
.string "Stephan M"
.string "Jason S"
.string "Kris S"
.string "Mikey R"
.string "Jake M"
.string "Liam M"
.string "Andy C"
.string "+"
.string "Sunset"
.string "Will N"
.string "Dylan M"
.string "Matthew L"
.string "Matthew P"
.string "Aiden F"
.string "Michael O"
.string "Drew D"
.string "Tyler M"
.string "masafumsa"
.string "Nathan S"
.string "Quentin F"
.string "Bobby Scar"
.string "OuterHalo"
.string "Max R"
.string "TruckJitsu"
.string "Seth M"
.string "Jamie C"
.string "Eddie A"
.string "Cody N"
.string "Joel"
.string "Kalvar"
.string "+"
.string "Spec Thanks"
.string "Achilles"
.string "Dan Salvato"
.string "Punkline"
.string "DRGN"
.string "Fizzi"
.string "Dolphin Emu"
.string "Gecko OS"
.align 2

FinalMessage:
blrl
.long 0xE700201d
.long 0x202b2024
.long 0x2031202e
.long 0x20361a20
.long 0x3720321a
.long 0x2024202f
.long 0x202f1a20
.long 0x30203c1a
.long 0x20332024
.long 0x20372035
.long 0x20322031
.long 0x20360320
.long 0x3a202b20
.long 0x321a2036
.long 0x20382033
.long 0x20332032
.long 0x20352037
.long 0x20282027
.long 0x1a203720
.long 0x2b202c20
.long 0x361a2033
.long 0x20352032
.long 0x202d2028
.long 0x20262037
.long 0x20ec0303
.long 0x03203a20
.long 0x3a203a20
.long 0xe7203720
.long 0x3a202c20
.long 0x37203720
.long 0x28203520
.long 0xe7202620
.long 0x32203020
.long 0xf0201e20
.long 0x31202620
.long 0x2f202820
.long 0x19203820
.long 0x31202620
.long 0x2b20ee03
.long 0x203a203a
.long 0x203a20e7
.long 0x20332024
.long 0x20372035
.long 0x20282032
.long 0x203120e7
.long 0x20262032
.long 0x203020f0
.long 0x201e2031
.long 0x2026202f
.long 0x20282019
.long 0x20382031
.long 0x2026202b
.long 0x19000000


FunctionStart:
.set FirstNameToReplace,2
.set LastNameToReplace,192

branchl	r12,0x803a6368

#Check For TM Credits
load	r5,SceneController
lbz	r5,0x0(r5)
cmpwi	r5,0x1
bne	Exit

backup

#Check If The Last Block of Text
lwz	r3, -0x4eac (r13)
cmpwi	r3,0xC0 			#Was Originally 0xC4
bne	CheckWhitelist
bl	FinalMessage
mflr	r4
addi	r4,r4,0x2
#Store To Text Struct
lwz	r3, -0x4EA8 (r13)
lwzx	r3, r3, r31
stw	r4,0x5C(r3)
b	CustomExit

#Only Display After the First 2 Names
CheckWhitelist:
lwz	r3, -0x4eac (r13)
cmpwi	r3,FirstNameToReplace
blt	CustomExit
cmpwi	r3,LastNameToReplace
bgt	CustomExit

ConvertToMenuText:
#Get Text As Menu Text
  li	r3,128
  branchl	r12,0x803a5798
  mr	r20,r3
  lwz	r3, -0x4EAC (r13)
  bl  GetPatronASCIIFromID
  mr  r4,r3
  mr  r3,r20
  branchl	r12,0x803a67ec


#Store To Text Struct
lwz	r3, -0x4EA8 (r13)
lwzx	r3, r3, r31
stw	r20,0x5C(r3)
b CustomExit

###############################
GetPatronASCIIFromID:
.set ID,31
.set LoopCount,30
.set Name,29

backup

#Get ID
  subi  ID,r3,FirstNameToReplace
#Get Names
  bl	Names
  mflr	Name
#Init Loop Count
  li  LoopCount,0

GetPatronASCIIFromID_Loop:
#Check if we are up to the correct name
  cmpw ID,LoopCount
  beq GetPatronASCIIFromID_Exit
#Get string length
  mr  r3,Name
  branchl r12,strlen
#Add to current name pointer
  add Name,Name,r3
  addi Name,Name,1
#Inc Loop Count
  addi LoopCount,LoopCount,1
  b GetPatronASCIIFromID_Loop

GetPatronASCIIFromID_Exit:
mr  r3,Name
restore
blr

###############################


CustomExit:
#Inc Name Count
lwz	r3, -0x4eac (r13)
addi	r3,r3,0x1
stw	r3, -0x4eac (r13)

restore
b	Exit



Exit:
#mtctr	r12
